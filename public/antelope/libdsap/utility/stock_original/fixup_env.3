.\" $Name $Revision: 1.2 $ $Date: 1998/02/16 21:26:13 $
.TH FIXUP_ENV 3 "$Date: 1998/02/16 21:26:13 $"
.SH NAME
fixup_env, envfile \- set up environment variables
.SH SYNOPSIS
.nf

#include "stock.h"

int fixup_env ( char *envsetup[], int nenv, int force );

int envfile ( char *filename );

.fi
.SH DESCRIPTION
.LP
\fBfixup_env\fR sets a list of environment variables to be relative to 
the DSAP directory.  This is primarily to address a problem getting 
the right set of initialization files for dbwish and dbtcl at locations
where other versions of tcl/tk may be installed.  Possibly it has wider
applicability, however.
.LP
\fBenvfile\fR is a second attempt on the same problem.  \fBfixup_env\fR
wants a list of environment variables which is statically compiled
into the application, but which must change whenever the tcl/tk release
is changed.  For more configurability, \fBenvfile\fR reads a file of 
name/value pairs from the directory $DSAP/data/env, setting the environment
value name to the specified value.  The value is first expanded from the
environment where '$' is the escape character which indicates the following
alphanumeric value is to be replaced with the environment value.
.LP
\fIEnvsetup\fR is an array of strings: name, value pairs, where
the even numbered members [0,2,4...] are environment names, and the 
odd numbered members [1,3,5,...] are paths relative to the dsap directory.
\fInenv\fR is the number of \fBpairs\fR, or the number environment variables
which you wish to set.
.LP
\fBfixup_env\fR gets the value of the DSAP from the environment (or
uses "/opt/dsap" by default.) It then constructs the value for
variables in the envsetup by concatenating the DSAP directory with the
path specified in envsetup, adding a "/" between DSAP and this path. 
.SH OPTIONS
.LP
If \fIforce\fR is zero, then fixup_env checks for a previous definition of  
each environment name, and only sets those not previously defined.
If \fIforce\fR is non-zero, every environment variable in the list will
be set.
.SH ENVIRONMENT
.SH RETURN VALUES
fixup_env returns zero for success; 
envfile always returns zero.
.SH LIBRARY
-lstock
.SH DIAGNOSTICS
none
.SH "SEE ALSO"
.nf
.fi
.SH "BUGS AND CAVEATS"
If DSAP is properly installed, it shouldn't be necessary to set environment
variables like "TK_LIBRARY"; however, if the standard environment already
includes TK_LIBRARY pointing to the wrong directory, it may be necessary
to use the environment file for an application like dbwish to override the
environment values.
.SH AUTHOR
Daniel Quinlan

.\" $Id: fixup_env.3,v 1.2 1998/02/16 21:26:13 danq Exp $ 
